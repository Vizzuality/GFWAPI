"use strict";
var __cov_jM4rQO1ZiVGolNAIQJkzvQ = (Function('return this'))();
if (!__cov_jM4rQO1ZiVGolNAIQJkzvQ.__coverage__) { __cov_jM4rQO1ZiVGolNAIQJkzvQ.__coverage__ = {}; }
__cov_jM4rQO1ZiVGolNAIQJkzvQ = __cov_jM4rQO1ZiVGolNAIQJkzvQ.__coverage__;
if (!(__cov_jM4rQO1ZiVGolNAIQJkzvQ['src/validators/userValidator.js'])) {
   __cov_jM4rQO1ZiVGolNAIQJkzvQ['src/validators/userValidator.js'] = {"path":"src/validators/userValidator.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":18},"end":{"line":9,"column":24}}},"2":{"name":"(anonymous_2)","line":18,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":24}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":61}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":48}},"4":{"start":{"line":10,"column":4},"end":{"line":10,"column":37}},"5":{"start":{"line":11,"column":4},"end":{"line":15,"column":5}},"6":{"start":{"line":12,"column":6},"end":{"line":12,"column":19}},"7":{"start":{"line":14,"column":6},"end":{"line":14,"column":18}},"8":{"start":{"line":19,"column":4},"end":{"line":19,"column":41}},"9":{"start":{"line":20,"column":4},"end":{"line":20,"column":49}},"10":{"start":{"line":21,"column":4},"end":{"line":21,"column":49}},"11":{"start":{"line":22,"column":4},"end":{"line":22,"column":53}},"12":{"start":{"line":23,"column":4},"end":{"line":23,"column":54}},"13":{"start":{"line":24,"column":4},"end":{"line":38,"column":5}},"14":{"start":{"line":25,"column":6},"end":{"line":25,"column":43}},"15":{"start":{"line":26,"column":6},"end":{"line":26,"column":77}},"16":{"start":{"line":27,"column":6},"end":{"line":27,"column":24}},"17":{"start":{"line":28,"column":6},"end":{"line":28,"column":13}},"18":{"start":{"line":30,"column":6},"end":{"line":30,"column":45}},"19":{"start":{"line":31,"column":6},"end":{"line":35,"column":7}},"20":{"start":{"line":32,"column":8},"end":{"line":32,"column":94}},"21":{"start":{"line":33,"column":8},"end":{"line":33,"column":26}},"22":{"start":{"line":34,"column":8},"end":{"line":34,"column":15}},"23":{"start":{"line":36,"column":6},"end":{"line":36,"column":40}},"24":{"start":{"line":37,"column":6},"end":{"line":37,"column":17}},"25":{"start":{"line":43,"column":0},"end":{"line":43,"column":31}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"2":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":4}},{"start":{"line":24,"column":4},"end":{"line":24,"column":4}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":6},"end":{"line":31,"column":6}},{"start":{"line":31,"column":6},"end":{"line":31,"column":6}}]}}};
}
__cov_jM4rQO1ZiVGolNAIQJkzvQ = __cov_jM4rQO1ZiVGolNAIQJkzvQ['src/validators/userValidator.js'];
__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['1']++;var logger=require('logger');__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['2']++;var ErrorSerializer=require('serializers/ErrorSerializer');__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['3']++;var roles=require('../../example.json').roles;class UserValidator{static checkRole(role){__cov_jM4rQO1ZiVGolNAIQJkzvQ.f['1']++;__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['4']++;logger.debug('Check role',role);__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['5']++;if(!roles[role]){__cov_jM4rQO1ZiVGolNAIQJkzvQ.b['1'][0]++;__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['6']++;return false;}else{__cov_jM4rQO1ZiVGolNAIQJkzvQ.b['1'][1]++;__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['7']++;return true;}}static*create(next){__cov_jM4rQO1ZiVGolNAIQJkzvQ.f['2']++;__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['8']++;logger.debug('Validate create user');__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['9']++;this.checkBody('name').notEmpty().len(2,30);__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['10']++;this.checkBody('email').notEmpty().isEmail();__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['11']++;this.checkBody('age').optional().isInt().toInt();__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['12']++;this.checkBody('role').notEmpty().isInt().toInt();__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['13']++;if(this.errors){__cov_jM4rQO1ZiVGolNAIQJkzvQ.b['2'][0]++;__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['14']++;logger.debug('errors ',this.errors);__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['15']++;this.body=ErrorSerializer.serializeValidationBodyErrors(this.errors);__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['16']++;this.status=400;__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['17']++;return;}else{__cov_jM4rQO1ZiVGolNAIQJkzvQ.b['2'][1]++;__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['18']++;logger.debug('Validating role exists');__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['19']++;if(!UserValidator.checkRole(this.request.body.role)){__cov_jM4rQO1ZiVGolNAIQJkzvQ.b['3'][0]++;__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['20']++;this.body=ErrorSerializer.serializeValidationBodyErrors([{role:'Role not exist'}]);__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['21']++;this.status=400;__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['22']++;return;}else{__cov_jM4rQO1ZiVGolNAIQJkzvQ.b['3'][1]++;}__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['23']++;logger.debug('Validate correct!');__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['24']++;yield next;}}}__cov_jM4rQO1ZiVGolNAIQJkzvQ.s['25']++;module.exports=UserValidator;
